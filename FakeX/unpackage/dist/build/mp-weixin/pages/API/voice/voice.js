(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/API/voice/voice"],{7972:function(e,t,n){},"94d0":function(e,t,n){"use strict";var r=n("7972"),o=n.n(r);o.a},"9bd8":function(e,t,n){"use strict";n.r(t);var r=n("dadd"),o=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=o.a},b264:function(e,t,n){"use strict";(function(e,t){var r=n("4ea4");n("e19b"),n("4a2a"),n("5c17");r(n("66fd"));var o=r(n("c5f2"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},b4c9:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={pageHead:function(){return n.e("components/page-head/page-head").then(n.bind(null,"7df6"))}},o=function(){var e=this.$createElement;this._self._c},a=[]},c5f2:function(e,t,n){"use strict";n.r(t);var r=n("b4c9"),o=n("9bd8");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("94d0");var i=n("f0c5"),c=Object(i["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=c.exports},dadd:function(e,t,n){"use strict";(function(e){var r=n("4ea4"),o=n("7037");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("2eee")),i=r(n("c973")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("7432"));function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var u=null,f=null,d=null,s=null,p={data:function(){return{title:"start/stopRecord、play/stopVoice",recording:!1,playing:!1,hasRecord:!1,tempFilePath:"",recordTime:0,playTime:0,formatedRecordTime:"00:00:00",formatedPlayTime:"00:00:00"}},onUnload:function(){this.end()},onLoad:function(){var t=this;s=e.createInnerAudioContext(),s.onEnded((function(){clearInterval(u);console.log("play voice finished"),t.playing=!1,t.formatedPlayTime=c.formatTime(0),t.playTime=0})),d=e.getRecorderManager(),d.onStart((function(){console.log("recorder start"),t.recording=!0,f=setInterval((function(){t.recordTime+=1,t.formatedRecordTime=c.formatTime(t.recordTime)}),1e3)})),d.onStop((function(e){console.log("on stop"),s.src=e.tempFilePath,t.hasRecord=!0,t.recording=!1})),d.onError((function(){console.log("recorder onError")}))},methods:{startRecord:function(){return(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:d.start({format:"mp3"});case 1:case"end":return e.stop()}}),e)})))()},stopRecord:function(){d.stop(),clearInterval(f)},playVoice:function(){var e=this;console.log("play voice"),this.playing=!0,u=setInterval((function(){e.playTime+=1,e.formatedPlayTime=c.formatTime(e.playTime)}),1e3),s.play()},stopVoice:function(){clearInterval(u),this.playing=!1,this.formatedPlayTime=c.formatTime(0),this.playTime=0,s.stop()},end:function(){s.stop(),d.stop(),clearInterval(f),clearInterval(u),this.recording=!1,this.playing=!1,this.hasRecord=!1,this.playTime=0,this.recordTime=0,this.formatedRecordTime="00:00:00",this.formatedRecordTime="00:00:00"},clear:function(){this.end()}}};t.default=p}).call(this,n("543d")["default"])}},[["b264","common/runtime","common/vendor"]]]);